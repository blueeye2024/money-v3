# 배포 및 Git 업데이트 환경설정 가이드 (환경설정.md)

이 문서는 프로젝트의 배포(Publish) 및 Git 업데이트 시 반드시 준수해야 하는 규칙과 절차를 정의합니다. AI 에이전트 및 개발자는 이 지침을 항상 따라야 합니다.

## 1. 사전 점검 및 버전 업데이트 (Pre-Deployment)
배포를 시작하기 전에 다음 파일들의 버전을 **모두** 동일하게 업데이트해야 합니다.

1.  **frontend/package.json**
    *   `version` 필드를 새 버전으로 수정합니다. (예: `"2.4.0"`)
2.  **sync_deploy.sh**
    *   `NEW_VER` 변수를 `package.json`과 동일하게 수정합니다.
3.  **frontend/src/App.jsx** (또는 Footer 컴포넌트)
    *   Footer 영역의 버전 텍스트와 **빌드 타임스탬프**를 현재 시간으로 갱신합니다.
    *   형식: `Ver [버전] (Build: YYYY-MM-DD HH:mm)`

## 2. Git 업데이트 규칙 (Git Workflow)
`sync_deploy.sh`를 사용하면 자동화되지만, 원칙은 다음과 같습니다.

1.  **커밋 메시지 (Commit Message)**
    *   형식: `Ver [버전]: [주요 변경 사항 요약]`
    *   예: `Ver 2.4.0: Dashboard formatting fix & stabilization`
2.  **태그 생성 (Tagging)**
    *   배포 시점에는 반드시 Git Tag를 생성하여 릴리즈를 명시합니다.
    *   태그명: `v[버전]` (예: `v2.4.0`)
    *   기존 태그가 있다면 갱신(`-f`)하여 Push 합니다.

## 3. 배포 실행 절차 (Deployment Execution)
배포는 가능한 자동화 스크립트를 사용하여 인적 오류를 최소화합니다.

1.  **메인 배포 스크립트 실행**
    *   명령어: `./sync_deploy.sh`
    *   **역할**:
        1.  Git Add & Commit (자동 메시지 생성)
        2.  Git Push (Main branch)
        3.  Git Tag 생성 및 Push
        4.  `auto_deploy.sh` 호출 → 서버 배포 트리거
2.  **비상시 수동 배포**
    *   `auto_deploy.sh`가 실패할 경우, 절대 경로를 사용하여 직접 배포 스크립트를 실행합니다.
    *   경로: `/home/blue/blue/my_project/money/deploy.sh`

## 4. 배포 후 검증 (Post-Deployment Verification)
배포가 완료되면 반드시 다음 사항을 확인합니다.

1.  **웹사이트 접속 확인**: 메인 URL(`http://localhost:5173` 또는 상용 URL) 접속
2.  **대시보드 렌더링**: '블랙 스크린(Blank Screen)' 이슈 없이 그래프와 데이터가 뜨는지 확인
3.  **버전 확인**: 페이지 하단 Footer에 명시된 버전과 빌드 시간이 방금 수정한 내용과 일치하는지 확인
4.  **주요 기능 점검**: `MarketInsight`, `Signals` 등 핵심 컴포넌트의 에러 로그(Console) 확인

---
**주의사항**: 모든 코드 변경 후 배포 시에는 위 절차를 빠짐없이 수행하십시오.
